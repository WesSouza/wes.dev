---
const grid = [
  [0, 1, 0, 3, 3, 0, 3, 3, 0, 3, 3, 0, 0, 0],
  [1, 1, 0, 3, 3, 0, 3, 3, 0, 3, 3, 0, 2, 1],
  [1, 2, 0, 4, 4, 0, 4, 4, 0, 4, 4, 0, 1, 1],
  [2, 2, 0, 4, 4, 4, 4, 4, 4, 4, 3, 0, 2, 1],
  [3, 1, 0, 4, 4, 4, 4, 4, 4, 3, 0, 0, 1, 2],
];
---

<section class="Card Card-Wide Card-Code" aria-label="Code">
  <a
    class="Card-Clip"
    href="http://github.com/WesSouza/"
    rel="nofollow noopener"
    target="_blank"
    aria-label="GitHub-style contribution calendar grapn forming a W"
  >
    <figure class="Grid">
      {
        grid.map((row) =>
          row.map((cell) => <span class={`Cell Cell${cell}`} />),
        )
      }
    </figure>
  </a>
</section>

<style>
  .Card-Code {
    grid-area: Code;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  @media (prefers-reduced-motion: no-preference) {
    @media (min-width: 935px) and (max-width: 1300px) {
      .Card-Code {
        --animation-translate-x: var(--animation-from-right);
        animation-delay: 0.5s;
      }
    }

    @media (min-width: 1301px) {
      .Card-Code {
        --animation-translate-x: var(--animation-from-left);
        animation-delay: 0.6s;
      }
    }
  }

  .Grid {
    --scale: 1;
    --gap: calc(var(--scale) * 6px);
    --width: calc(var(--scale) * 18px);
    display: grid;
    grid-template-columns: repeat(14, var(--width));
    gap: var(--gap);
    grid-auto-rows: var(--width);
    background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='18' height='18' rx='2' fill='black' fill-opacity='0.1'/%3E%3Crect x='1' y='1' width='16' height='16' rx='1' stroke='black' stroke-opacity='0.03' stroke-width='2'/%3E%3C/svg%3E%0A");
    background-size: calc(var(--width) + var(--gap));
    background-repeat: repeat;
    background-position-x: calc(50% - calc(var(--width) / 2));
    width: 100%;
    justify-content: center;
  }

  .Cell {
    display: inline-block;
    border: calc(var(--scale) * 2px) solid rgba(135, 36, 153, 0.15);
    border-radius: calc(var(--scale) * 2px);
  }

  @media (min-width: 1301px) {
    .Grid {
      --scale: 1.25;
    }
  }

  .Cell0 {
    opacity: 0;
  }

  .Cell1 {
    background: #c661e7;
  }

  .Cell2 {
    background: #b62be3;
  }

  .Cell3 {
    background: #9223bf;
  }

  .Cell4 {
    background: #63207e;
  }
</style>
